<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>International Teleworking Job Search</title>
<style>
*{box-sizing:border-box;font-family:Arial,Helvetica,sans-serif;margin:0;padding:0}
body{background:#f4f6fb;display:flex;flex-direction:column;align-items:center;min-height:100vh;padding:20px}
h1,h2{color:#111;text-align:center;margin-bottom:10px}
.container{background:#fff;border-radius:15px;box-shadow:0 10px 30px rgba(0,0,0,0.1);padding:20px;width:100%;max-width:500px;margin-bottom:20px}
.button{background:#6366f1;color:#fff;padding:10px 15px;border:none;border-radius:8px;cursor:pointer;font-size:16px;margin-top:10px}
input, select{width:100%;padding:8px;margin:6px 0;border:1px solid #ccc;border-radius:6px}
.card{background:#f9f9f9;padding:12px;margin:8px 0;border-radius:10px;box-shadow:0 2px 6px rgba(0,0,0,0.08)}
.locked{background:#fff3cd;border-left:5px solid #ffc107}
.settled{background:#d4edda;border-left:5px solid #28a745}
.pending{background:#cce5ff;border-left:5px solid #007bff}
.status{font-weight:bold;text-align:right}
#lang-switch{margin-bottom:20px;text-align:center}
#logo{width:120px;height:120px;margin:0 auto 20px;animation:spin 5s linear infinite}
@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
</style>
</head>
<body>

<img id="logo" src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5e/Globe_icon.svg/1024px-Globe_icon.svg.png" alt="Logo">
<h1 id="site-title">International Teleworking Job Search</h1>

<div id="lang-switch">
  <button class="button" onclick="switchLang('en')">EN</button>
  <button class="button" onclick="switchLang('fa')">FA</button>
</div>

<div class="container">
  <h2 id="pay-title">پرداخت کارفرما</h2>
  <p id="wallet-label">آدرس USDT TRC20:</p>
  <p><b>TUWa99kY7KUYJbh1GWdJWa6n597yDkM8Aq</b></p>
  <p id="amount-label">مبلغ:</p>
  <input type="number" id="amount" placeholder="مثال: 100">
  <p id="txid-label">TxID (شناسه تراکنش):</p>
  <input type="text" id="txid" placeholder="وارد کنید">
  <button class="button" onclick="addTransaction()" id="pay-btn">ثبت پرداخت</button>
</div>

<div class="container">
  <h2 id="profile-title">پروفایل کارفرما</h2>
  <div id="transactions">
    <p id="no-trans">هیچ تراکنشی وجود ندارد</p>
  </div>
  <a href="https://t.me/GlobalTeleworkOfficial" target="_blank">
    <button class="button" id="tg-btn">ورود به گروه تلگرام</button>
  </a>
</div>

<script>
let lang = 'fa';
let transactions = JSON.parse(localStorage.getItem('transactions') || '[]');

function renderTransactions(){
  const container = document.getElementById('transactions');
  container.innerHTML = '';
  if(transactions.length===0){
    container.innerHTML='<p id="no-trans">'+(lang==='fa'?'هیچ تراکنشی وجود ندارد':'No transactions yet')+'</p>';
    return;
  }
  transactions.forEach((t,i)=>{
    const div = document.createElement('div');
    div.className='card '+(t.status==='Locked'?'locked':t.status==='Settled'?'settled':'pending');
    div.innerHTML=`
      <p><b>${lang==='fa'?'مبلغ':'Amount'}:</b> ${t.amount} USDT</p>
      <p><b>${lang==='fa'?'TxID':'TxID'}:</b> ${t.txid}</p>
      <p><b>${lang==='fa'?'وضعیت':'Status'}:</b> <span class="status">${t.status}</span></p>
      ${t.status==='Locked'?`<button class="button" onclick="confirmCompletion(${i})">${lang==='fa'?'تأیید انجام کار':'Confirm Completion'}</button>`:''}
      ${t.status==='Settled'?`<p>${lang==='fa'?'کمیسیون ۱۰٪':'Commission 10%'}: ${t.amount*0.1} USDT</p>
      <p>${lang==='fa'?'قابل پرداخت به کارجو':'Payable to Worker'}: ${t.amount*0.9} USDT</p>`:''}
    `;
    container.appendChild(div);
  });
}

function addTransaction(){
  const amount=document.getElementById('amount').value;
  const txid=document.getElementById('txid').value.trim();
  if(!amount || !txid){alert(lang==='fa'?'مقدار و TxID را وارد کنید':'Please enter amount and TxID'); return;}
  transactions.push({amount:Number(amount),txid,status:'Locked'});
  localStorage.setItem('transactions',JSON.stringify(transactions));
  document.getElementById('amount').value='';
  document.getElementById('txid').value='';
  renderTransactions();
}

function confirmCompletion(index){
  if(confirm(lang==='fa'?'آیا می‌خواهید کار را تأیید و پول را آزاد کنید؟':'Confirm completion and release payment?')){
    transactions[index].status='Settled';
    localStorage.setItem('transactions',JSON.stringify(transactions));
    renderTransactions();
  }
}

function switchLang(l){
  lang=l;
  document.getElementById('site-title').innerText=lang==='fa'?'International Teleworking Job Search':'International Teleworking Job Search';
  document.getElementById('pay-title').innerText=lang==='fa'?'پرداخت کارفرما':'Employer Payment';
  document.getElementById('wallet-label').innerText=lang==='fa'?'آدرس USDT TRC20:':'USDT TRC20 Wallet:';
  document.getElementById('amount-label').innerText=lang==='fa'?'مبلغ:':'Amount:';
  document.getElementById('txid-label').innerText=lang==='fa'?'TxID (شناسه تراکنش):':'TxID:';
  document.getElementById('pay-btn').innerText=lang==='fa'?'ثبت پرداخت':'Submit Payment';
  document.getElementById('profile-title').innerText=lang==='fa'?'پروفایل کارفرما':'Employer Profile';
  document.getElementById('tg-btn').innerText=lang==='fa'?'ورود به گروه تلگرام':'Join Telegram Group';
  renderTransactions();
}

renderTransactions();
</script>

</body>
</html>
